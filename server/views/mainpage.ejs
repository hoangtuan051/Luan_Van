<!DOCTYPE html>
<html lang="en">
  <head>
    <title>Smart Dictionary</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" type="text/css" media="screen" href="./css/mainpage.css">
    <link rel="stylesheet" type="text/css" href="./css/globalcss.css">
    <link rel="stylesheet" type="text/css" href="./css/typehead.css">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.1.1/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/js/bootstrap.min.js"></script>
    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.3.3/angular.min.js"></script>
    <script src="js/mainpage.js" type="text/javascript"></script>
    <script src="js/translate.js" type="text/javascript"></script>
    <!--script(src='js/typeahead.bundle.js', type='text/javascript')-->
    <script src="js/typeahead.min.js" type="text/javascript"></script>
    <!--script(src='js/bloodhound.js', type='text/javascript')-->
    <!--script(src='js/bloodhound.min.js', type='text/javascript')-->
    <script type="text/javascript">
      (function(){

        var user = <%- JSON.stringify(users) %>;

        if(user != null){
            alert(user.fullname);
            $('#authenticated').attr('style', 'display: block;');
            $('#user').html(user.fullname + " <span class="caret"></span>");
            $('#eng').remove();
            $('#vn').remove();
        }

          $('.typeahead').typeahead({
              name: 'vocc',
              remote: 'http://localhost:3000/search?key=%QUERY',
              limit: 10,
              highlight: true
          });

          $('.searchoption').change(function(){
              var optionSelected = $(this).find("option:selected");
              var textSelected = optionSelected.text();
              if(textSelected === "English"){
                  alert("anh");
                  $('.typeahead').typeahead('destroy');
                  $('.typeahead').typeahead({
                      name: 'vocc',
                      remote: 'http://localhost:3000/search?key=%QUERY',
                      limit: 10,
                      highlight: true
                  });
              }
            else {
              alert("viet");
              $('.typeahead').typeahead('destroy');
              $('.typeahead').typeahead({
                  name: 'voc',
                  remote: 'http://localhost:3000/suggest?key=%QUERY',
                  limit: 10,
                  highlight: true
              });
            }
          });

          $('.searchbox').change(function(){
              if($('.searchoption').find('option:selected').text() === "English"){
                 $('#search-form').attr('action', '/searcheng');
              }
              else{
                alert("viet");
                $('#search-form').attr('action', '/searchvie');
              }
          });


      })();
    </script>
    <style>
      /* Remove the navbar's default margin-bottom and rounded borders */
      .navbar {
      margin-bottom: 0;
      border-radius: 0;
      }
      /* Set height of the grid so .sidenav can be 100% (adjust as needed) */
      .row.content {height: 450px}
      /* Set gray background color and 100% height */
      .sidenav {
      padding-top: 20px;
      background-color: #f1f1f1;
      height: 100%;
      }
      /* Set black background color, white text and some padding */
      footer {
      background-color: #555;
      color: white;
      padding: 15px;
      }
      /* On small screens, set height to 'auto' for sidenav and grid */
      @media screen and (max-width: 767px) {
      .sidenav {
      height: auto;
      padding: 15px;
      }
      .row.content {height:auto;}
      }
      .site-footer {
          background: #5b6e84;
          color: #fff;
          padding: 10px 0;
      }
      .go-top {
          margin-right: 1%;
          float: right;
          background: rgba(255,255,255,.5);
          width: 20px;
          height: 20px;
          border-radius: 50%;
          -webkit-border-radius: 50%;
      }
      .go-top i {
          color: #2A3542;
      }
      .site-min-height {
          min-height: 900px;
      }
      .always-bottom {
          position: absolute;
          bottom: 0;
          width: 100%;
      }
      .navbar{
        background-color: #054767;
      }
      .f-nav{ z-index: 9999; position: fixed; left: 0; top: 0; width: 100%;}
    </style>
  </head>
  <body>
    <nav class="navbar navbar-inverse">
      <div class="container-fluid">
        <div class="navbar-header">
          <button class="navbar-toggle" type="button" data-toggle="collapse" data-target="#myNavbar"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></button><a class="navbar-brand" href="/">Smart Dictionary</a>
        </div>
        <div class="collapse navbar-collapse" id="myNavbar">
          <ul class="nav navbar-nav">
            <li class="active"><a class="english" href="/">Home</a><a class="vietnam" href="/">Trang Chủ</a></li>
            <li><a class="english" href="/sentences">Sentence Parsing</a><a class="vietnam" href="/sentences">Dịch câu</a></li>
            <li><a class="english" href="#">Word Lists & Quiz</a><a class="vietnam" href="#">List từ & Quiz</a></li>
            <li><a class="english" href="#">Word Frequency</a><a class="vietnam" href="#">Độ thông dụng</a></li>
          </ul>
          <ul class="nav navbar-nav navbar-right">
            <li>
              <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" id="lang" type="button" data-toggle="dropdown" aria-expanded="true" style="outline: none;border: none;background-color: #054767;margin: 7px">Languages<span class="caret"></span></button>
                <ul class="dropdown-menu">
                  <li><a onclick="ToEnglish();">English</a></li>
                  <li><a onclick="ToVietNam();">Việt Nam</a></li>
                </ul>
              </div>
            </li>
            <li id="authenticated" style="display: none">
              <div class="dropdown">
                <button class="btn btn-primary dropdown-toggle" id="user" type="button" data-toggle="dropdown" aria-expanded="true" style="outline: none;border: none;background-color: #054767;margin: 7px"><span class="caret"></span></button>
                <ul class="dropdown-menu">
                  <li><a href="/profiles"><i class="fa fa-folder-open" aria-hidden="true"> </i> My Lists</a></li>
                  <li><a href="/profiles"> <i class="fa fa-user-circle" aria-hidden="true"></i> Profile</a></li>
                  <li><a href="/logout"> <i class="fa fa-circle-o-notch" aria-hidden="true"></i> Logout</a></li>
                </ul>
              </div>
            </li>
            <li><a class="english" id="eng" href="/login"><span class="glyphicon glyphicon-log-in"></span> Login</a></li>
            <li><a class="vietnam" id="vn" href="/login"><span class="glyphicon glyphicon-log-in"></span> Đăng nhập</a></li>
          </ul>
        </div>
      </div>
    </nav>
    <div class="container-fluid text-center">
      <div class="row content"><img src="image/mainpage.png" style="width: 100%;height: 300px">
        <div id="search">
          <div class="searchframe">
            <div>
              <form id="search-form" action="/searcheng" method="get" accept-charset="utf-8">
                <input class="searchbox typeahead" id="findBox" type="text" name="typeahead" autofocus="yes" spellcheck="false" placeholder="Search Word" autocomplete="off"><span class="searchselect">
                  <button class="searchbutton" type="submit" value="submit"><i class="fa fa-search" aria-hidden="true"></i></button>
                  <select class="searchoption" name="typedic">
                    <option value="English" selected="selected">English</option>
                    <option value="Vietnam">Viet Nam</option>
                  </select></span>
              </form>
            </div>
          </div>
          <form id="myHiddenFormId" action="/word" method="post" style="display: none">
            <input type="hidden" name="myParameterName" value="myParameterValue">
            <input type="submit" style="display: none">
          </form>
          <p id="res"></p>
        </div>
      </div>
      <div class="container-fluid" style="background-color: #EEF1F6;margin-bottom: 100px">
        <label class="english" style="font-size: 20px;float: left">Explore our features</label>
        <label class="vietnam" style="font-size: 20px;float: left">Các tính năng</label><br><br>
        <div class="row">
          <div class="col-sm-4">
            <div class="gallery"><a href="#"><img src="image/America.jpg"></a><a class="desc" id="imgSen">Sentence Parsing</a></div>
          </div>
          <div class="col-sm-4">
            <div class="gallery"><a href="wordlist_page.html"><img src="image/England.jpg"></a><a class="desc" id="imgList">Word Lists & Quiz</a></div>
          </div>
          <div class="col-sm-4">
            <div class="gallery"><a href="#"><img src="image/Australia.jpg"></a><a class="desc" id="imgFre">Word Frequency    </a></div>
          </div>
        </div>
      </div>
    </div>
    <footer class="site-footer">
      <div class="text-center">Copyright 2017 © by My Team<a class="go-top" href=""><i class="fa fa-angle-up"></i></a></div>
    </footer>
    <!-- Login-->
    <div class="modal fade" id="login_signup" tabindex="-1" role="dialog" aria-labelledby="login_signup" aria-hidden="true">
      <div class="modal-dialog modal-sm">
        <div class="modal-content" style="background-color: #749197">
          <div class="modal-header">
            <button class="close" type="button" data-dismiss="modal" aria-hidden="true">×</button>
          </div>
          <div class="modal-body">
            <div class="tab-content">
              <div class="tab-pane active" id="login">
                <h4 id="lgTitle" style="font-size: 2.0em">Login</h4>
                <hr>
                <hr>
                <form id="loginform" method="POST" name="loginform">
                  <div class="form-group">
                    <div class="input-group"><span class="input-group-addon"><i class="fa fa-user"></i></span>
                      <input class="form-control" id="username" type="text" placeholder="Username" name="username">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group"><span class="input-group-addon"><i class="fa fa-lock"></i></span>
                      <input class="form-control" id="password" type="password" placeholder="Password" name="password">
                    </div>
                  </div>
                </form>
                <button class="btn btn-success" id="bnLg">Login</button>
              </div>
              <div class="tab-pane" id="signup">
                <h4 id="snTitle" style="font-size: 2.0em">Sign up</h4>
                <hr>
                <hr>
                <form id="signupform" method="POST" name="signupform">
                  <div class="form-group">
                    <div class="input-group"><span class="input-group-addon"><i class="fa fa-user"></i></span>
                      <input class="form-control" id="new_user" type="text" placeholder="Username" name="new_user">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group"><span class="input-group-addon"><i class="fa fa-lock"></i></span>
                      <input class="form-control" id="password1" type="password" placeholder="Password" name="password1">
                    </div>
                  </div>
                  <div class="form-group">
                    <div class="input-group"><span class="input-group-addon"><i class="fa fa-lock"></i></span>
                      <input class="form-control" id="password2" type="password" placeholder="Confirm Password" name="password2">
                    </div>
                  </div>
                </form>
                <button class="btn btn-success" id="bnSn">Sign up</button>
              </div>
            </div>
            <hr>
            <hr>
            <div>
              <ul class="nav nav-tabs" id="tabContent" style="width: 102%;outline: none;border: none">
                <li class="active" style="float: left;width: 50%"><a id="tabLg" href="#login" data-toggle="tab" style="color:black;font-size: 1.2em">Login</a></li>
                <li style="float: right;width: 50%"><a id="tabSn" href="#signup" data-toggle="tab" style="color:black;font-size: 1.2em">Sign up</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
